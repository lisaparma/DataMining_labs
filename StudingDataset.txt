1. Studiare il dataset, guardare le variabili, comprendere le informazioni.

# Documentazione del dataset fornitoci da RStudio
?Boston

# Elenca i nomi delle varie colonne, i tipi e degli esempi di dato
str(Boston)


# Salviamoci i numeri delle entry (in questo caso delle case)
n <- nrow(Boston)

# Dataset solo con i valori che ci interessano 
select <- c("crim", "zn")  # c() combina i valori per creare un vettore
newDataset <- Boston[,select]

# Guardiamo solo i dati che ci interessano e studiamoli
Boston[,3]
summary(Boston$medv) # Riassunto della colonna data, dipende dal tipo di oggetto passatogli
TODO: cosa possiamo dire dai dati che otteniamo qui?



2. Studiare graficamente i dati che abbiamo.

# Istogramma della distribuzione: 
hist(Boston$medv, prob=TRUE, xlab='Median value', main='Histogram')

Boxplot della distribuzione:
# boxplot(Boston$medv, xlab='Median value', main='Boxplot' )


Relazione tra le variabili che ci interessano:
# Grafico di dispersione
plot(Boston$medv, Boston$lstat, main='Dispersion plot', xlab='% of lower status of the population', ylab='Median value', pch=19, cex=0.5)
# Da questo grafico possiamo trovare una relazione tra le variabili (tipp una relazione inversa). Lo veriamo anche calcolando la correlazione
cor(Boston$medv, Boston$lstat)


# Costruire un modello lineare semplice

# Metodo manuale
n # n. righe
covXY <- cov(Boston$medv, Boston$lstat)
vX <- var(Boston$lstat)*(n-1)/n 
beta1 <- covXY/vX
beta0 <- mean(Boston$medv) - beta1*mean(Boston$lstat)

# Tramite R
mod1 <- lm(formula = medv ~ lstat, data=Boston)

summary(mod1)
# informazioni sui residui
# stime, standard error, significance test sui parametri
# informazioni dull'accuratezza del modello
# test F per la significità di tutti i parametri

# Altri dati
names(mod1)

# Grafici con dati aggiunti dal modello
plot(Boston$lstat, Boston$medv, pch=19, cex=0.5, xlab='% of lower status of the population', ylab='Median value')

points(Boston$lstat, est.values, pch='x', col='green') # aggiungo i valori stimati

abline(coef(model)[1], coef(model)[2], lty=2, col='red', lwd=3) # aggiungo la least squares regression line
oppure
abline(beta0, beta1, lty=2, col='red')


















